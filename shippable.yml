language: node_js
node_js: 12.13

build:
  ci:
    - npm install
    - npm run lint
    - CI=true npm run test
    - npm run mutate

  on_success:
    - docker build ./ -t kode-konveyor/taskmarket-frontend:$BUILD_NUMBER
    - docker push kode-konveyor/taskmarket-frontend:$BUILD_NUMBER    

integrations:
  hub:
    - integrationName: docker
      type: dockerRegistryLogin